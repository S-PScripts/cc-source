var NSLibrary=NSLibrary||{};NSLibrary.Client=NSLibrary.Client||{},NSLibrary.Client.Lock=NSLibrary.Client.Lock||{},function(n){function o(){chrome.runtime.sendMessage({getWindow:!0,windowId:n.lockWindow,data:{}},function(e){e?chrome.runtime.sendMessage({windowsUpdate:!0,windowId:n.lockWindow,winData:{focused:!0,state:"fullscreen"}}):(n.unlockClient(),n.lockClient())})}n.lockWindow=-1,n.lockInterval=void 0,n.lockClient=function(){localStorage.screenLocked=!0,n.lockWindow<0&&chrome.runtime.sendMessage({createWindow:!0,windowData:{url:chrome.runtime.getURL("lock.html"),top:0,left:0,type:"popup",width:screen.width,height:screen.height}},function(e){n.lockWindow=e.id,n.lockInterval=window.setInterval(o,500)})},n.unlockClient=function(){localStorage.screenLocked=!1,window.clearInterval(n.lockInterval),-1<n.lockWindow&&chrome.runtime.sendMessage({removeWindow:!0,windowId:n.lockWindow}),n.lockWindow=-1}}(NSLibrary.Client.Lock);
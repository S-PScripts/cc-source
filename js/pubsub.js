!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i():(t.NSLibrary=t.NSLibrary||{},t.NSLibrary.PubSub=i())}(this,function(){return{topicList:{},topicLookup:{},subID:0,subscribe:function(t,i,o){return this.topicList[t]||(this.topicList[t]={}),this.subID+=1,this.topicList[t][this.subID]={callback:i,context:o=o||this},this.topicLookup[this.subID]=t,this.subID},publish:function(t){var i,o,s=null;if("string"!=typeof t)throw new Error("Topic must be a string");if(void 0!==arguments[1]&&(s=arguments[1]),this.topicList[t])for(i in this.topicList[t])this.topicList[t].hasOwnProperty(i)&&(o=this.topicList[t][i]).callback.call(o.context,s)},unsubscribe:function(t){var i;if("number"!=typeof t)throw new Error("Subscription ID of the wrong type.");return!!this.topicLookup.hasOwnProperty(t)&&(i=this.topicLookup[t],delete this.topicList[i][t],delete this.topicLookup[t],!0)}}});
require(["modules/translate","modules/extension"],function(e,o){function i(){chrome.runtime.sendMessage({getWindowCurrent:!0},function(e){document.body.style.overflow="hidden",1.01<Math.min(e.height/window.innerHeight,e.width/window.innerWidth)&&(document.body.style.overflow="scroll"),o.ScaleShow(window.innerHeight,window.innerWidth);e={Left:(localStorage.csParams.Show.Width-window.innerWidth)/2,Top:(localStorage.csParams.Show.Height-window.innerHeight)/2};$("body").scrollLeft(e.Left),$("body").scrollTop(e.Top)})}function n(e){var n=document.createElement("canvas");o.getShow(e.id,n);document.body.appendChild(n),n.addEventListener("resize",i,!1);var t=window.setInterval(function(){window.dispatchEvent(new Event("resize"))},250);window.setTimeout(function(){window.clearInterval(t)},1e4)}window.addEventListener("resize",i,!1),localStorage.NSLibrary.Client.Show.isFullScreen?chrome.runtime.sendMessage({getWindowCurrent:!0},function(){n()}):chrome.runtime.sendMessage({getTabCurrent:!0},function(){n()})});
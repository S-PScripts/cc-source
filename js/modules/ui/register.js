require(["modules/translate","modules/extension"],function(m,u){function e(){for(var e,t=document.querySelectorAll("input:not([style*='display: none'])"),n=0,l=0;l<t.length;l++)if(""===t[l].value){n=1;break}n?((e=document.getElementById("status")).innerHTML=m("PLEASE_PROVIDE_YOUR_PERSONAL_DETAILS_FOR_THE_LESSON_REGISTER"),setTimeout(function(){e.innerHTML="&nbsp;"},1200)):u.studentRegister({firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,userName:document.getElementById("userName").value,className:document.getElementById("className").value,studentID:document.getElementById("studentID").value,custom1:document.getElementById("custom1").value,custom2:document.getElementById("custom2").value})}function t(e,t,n){e?(document.getElementById(t).style.display="inline",document.getElementById(t).previousElementSibling.style.display="inline-block",n&&n(document.getElementById(t).previousElementSibling),document.getElementById(t).focus()):(document.getElementById(t).style.display="none",document.getElementById(t).previousElementSibling.style.display="none")}function n(e,t){""!==e&&(document.getElementById(t).style.display="block",document.getElementById(t+"Label").style.display="block",document.getElementById(t+"Name").innerHTML=e)}var l,s,o,d;l=u.getTeacherName(),s=u.getLessonName(),o=u.getRoom(),(d=u.getStudent()).UserName?document.getElementById("userName").value=localStorage.userName:document.getElementById("userName").style.display="none",document.getElementById("fullName").style.display="block",d&&(t(d.FirstName,"firstName"),t(d.Surname,"lastName"),t(d.ClassName,"className"),t(d.StudentID,"studentID"),t(d.Custom1,"custom1",function(e){e.innerHTML=d.Custom1}),t(d.Custom2,"custom2",function(e){e.innerHTML=d.Custom2})),n(l,"teacher"),n(s,"lesson"),n(o,"room"),document.getElementById("registerBtn").addEventListener("click",e,!1),document.querySelector("input:not([style*='display:none'])").focus(),m()});
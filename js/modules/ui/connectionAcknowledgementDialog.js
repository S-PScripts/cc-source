require(["modules/translate"],e=>e()),localStorage.setItem("ignoreRejectOnUnload",!1),localStorage.setItem("hangupRecieved",!1);var teacherName=localStorage.getItem("teacherName"),wishesToConnect=document.getElementById("wishesToConnect");wishesToConnect.innerHTML=teacherName,window.document.body.style.backgroundColor=localStorage.customBackgroundColour,window.addEventListener("resize",function(){window.resizeTo(500,380),setTimeout(function(){screen.width===window.outerWidth&&(window.document.body.style.backgroundColor=localStorage.customBackgroundColour)},100)}),chrome.runtime.onMessage.addListener(function(e){e.closeAcknowledgeDialog&&window.close()}),document.getElementById("acceptBtn").addEventListener("click",function(){localStorage.setItem("ignoreRejectOnUnload",!0),localStorage.setItem("useracknowledgeAccepted",!0);var e=localStorage.getItem("connectData");chrome.runtime.sendMessage({text:"completeConnection",data:e,acceptConnection:"true"}),window.setTimeout(function(){window.close()},500)}),document.getElementById("rejectBtn").addEventListener("click",function(){localStorage.setItem("ignoreRejectOnUnload",!0);var e=localStorage.getItem("connectData");chrome.runtime.sendMessage({text:"completeConnection",data:e,acceptConnection:"false"}),window.setTimeout(function(){window.close()},500)}),window.setInterval(function(){"true"==localStorage.getItem("hangupRecieved")&&window.close()},500),window.onbeforeunload=function(e){var t;"true"!=localStorage.getItem("ignoreRejectOnUnload")&&(t=localStorage.getItem("connectData"),chrome.runtime.sendMessage({text:"completeConnection",data:t,acceptConnection:"false"}))};
require(["modules/translate","modules/cicregistration"],function(l,e){var o=document.getElementById("okBtnUAP"),d=document.getElementById("printBtnUAP"),a=(document.getElementById("disagreeBtnUAP"),parseInt(localStorage.acknowledgement)),n=localStorage.policyId,m=localStorage.policyName,c=localStorage.index,r=document.getElementById("policyTextArea"),s=document.getElementById("scrollPrompt");function i(){setTimeout(function(){close()},200)}window.addEventListener("resize",function(){window.resizeTo(900,550)}),window.addEventListener("focus",function(){}),window.addEventListener("blur",function(){chrome.runtime.sendMessage({open:!0})}),setTimeout(function(){chrome.runtime.sendMessage({open:!0})},2e3),localStorage.uapClicked=!1,o.addEventListener("click",function(){var e=document.getElementById("textNameInputUAP"),t=document.getElementById("uapCheckBox");document.getElementById("uapCheckLabel"),document.getElementById("agreementPrompt"),document.getElementById("printBtnUAP"),document.getElementById("okBtnUAP");switch(localStorage.uapClicked=!0,a){case 0:chrome.runtime.sendMessage({uapAcknowledgment:!0,policyId:n,index:c,signedName:null}),i();break;case 1:1==t.checked&&(chrome.runtime.sendMessage({uapAcknowledgment:!0,policyId:n,index:c,signedName:null}),i());break;case 2:""!=e.value&&(chrome.runtime.sendMessage({uapAcknowledgment:!0,policyId:n,index:c,signedName:e.value}),i())}},!1),d.addEventListener("click",function(){window.print()},!1),function(){l(),setTimeout(function(){document.title=l("POLICY_NAME_PLACEHOLDER",m)},100);var e=document.getElementById("textNameInputUAP"),t=document.getElementById("uapCheckBox"),n=document.getElementById("uapCheckLabel"),o=document.getElementById("agreementPrompt"),d=document.getElementById("printBtnUAP"),c=document.getElementById("okBtnUAP");switch(t.setAttribute("disabled","disabled"),d.setAttribute("disabled","disabled"),d.setAttribute("class","printBtnUAPDisabled"),c.setAttribute("disabled","disabled"),c.setAttribute("class","okBtnUAPDisabled"),setTimeout(function(){var e;(e=(e=(e=document.getElementById("policyTextArea")).contentWindow).document.documentElement.scrollHeight>e.innerHeight)?(document.getElementById("uapCheckBox")&&(document.getElementById("uapCheckBox").disabled=!0),document.getElementById("textNameInputUAP")&&(document.getElementById("textNameInputUAP").disabled=!0)):(s.remove(),c.removeAttribute("disabled"),c.setAttribute("class","okBtnUAP"),d.removeAttribute("disabled"),d.setAttribute("class","printBtnUAP"),document.getElementById("uapCheckBox")&&(document.getElementById("uapCheckBox").disabled=!1),document.getElementById("textNameInputUAP")&&(document.getElementById("textNameInputUAP").disabled=!1))},500),parseInt(a)){case 0:t.remove(),n.remove(),e.remove(),o.remove(),d.style.marginLeft="75%";break;case 1:e.remove(),o.remove();break;case 2:t.remove(),n.remove()}messageBannerBottom.style.background=localStorage.customBackgroundColour,policyText=localStorage.policyTextRTF;var i=(r=document.getElementById("policyTextArea")).contentDocument||r.contentWindow.document;i.open(),i.write(policyText),i.close()}(),window.onbeforeunload=function(){};const u=(r=document.getElementById("policyTextArea")).contentWindow;let g;u.onscroll=function(){var e=u.document.documentElement.scrollHeight,t=u.innerHeight,n=u.scrollY||u.pageYOffset;if(g=e-t-n<=1,g){switch(a){case 0:break;case 1:uapCheckBox.removeAttribute("disabled");break;case 2:textNameInputUAP.removeAttribute("disabled")}o.removeAttribute("disabled"),o.setAttribute("class","okBtnUAP"),d.removeAttribute("disabled"),d.setAttribute("class","printBtnUAP")}},setInterval(function(){var e=document.getElementById("policyTextArea");screen.availWidth-window.innerWidth==0?(e.style.fontSize="30px",e.style.paddingLeft="2%",e.style.paddingTop="2%"):(e.style.fontSize="15px",e.style.paddingLeft="1%",e.style.paddingTop="1%")},100)});
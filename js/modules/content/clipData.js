!function(t,e){"function"==typeof define&&define.amd?define("content/clipData",["content/clientMessaging"],e):"object"==typeof exports?module.exports=e(require("content/clientMessaging")):(t.ns=t.ns||{content:{}},t.ns.content.clipData=e(t.ns.content.clientMessaging))}(this,function(n){var a=2;function e(t){-1<t.clipboardData.types.indexOf("text/plain")&&n.sendRuntime(t.clipboardData.getData("text/plain"),a)}function c(t){var e=document.getSelection().toString();""!=e.trim()?n.sendRuntime(e,a):navigator.clipboard.readText().then(t=>{n.sendRuntime(t,a)})}function i(t){t.contentDocument?t.contentDocument.addEventListener("paste",e,!0):t.srcElement.contentDocument?(t.srcElement.contentDocument.addEventListener("paste",e,!0),t.srcElement.contentDocument.addEventListener("copy",c,!0)):t.srcElement.contentEditable&&(t.srcElement.addEventListener("paste",e,!0),t.srcElement.addEventListener("copy",c,!0))}function t(t){t.target.addEventListener("paste",e,!0),t.target.addEventListener("copy",c,!0)}function o(t){var e;t.hasOwnProperty("path")?"IFRAME"!==(e=t.path[0]).tagName||i(e):"IFRAME"===t.target.tagName?(t.target.className.split(" ")[0],i(t)):"DIV"!==t.target.tagName&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName||i(t)}return{cut:c,copy:c,paste:e,listen:function(){document.body.addEventListener("focusin",o,!0),document.addEventListener("focusin",t,!0)}}});
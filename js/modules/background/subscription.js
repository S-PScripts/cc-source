!function(e){"function"==typeof define&&define.amd?define(["student","comms.websocket","modules/image"],e):"object"==typeof exports&&(module.exports=e(require("student"),require("comms.websocket"),require("modules/image")))}(function(e,t,i){let n=["interval","plugin","heartbeat","ackTimeout"],r={plugin:"pluginEvent"};var s=e=>Object.assign(...n.map(e));class o{constructor(e,t){return this.handler=t,this.key=e,this.id=void 0,this}call(){o.last[this.key]=Date.now(),this.handler&&this.handler()}setInterval(e){return this.id=window.setInterval(this.handler,e),a.apply(this)}clearInterval(){window.clearInterval(this.id)}registerEvent(e){var t;return document.addEventListener((t=this.key,null!==r[t]&&void 0!==r[t]?r[t]:t),e),a.apply(this)}removeEvent(e){var t;document.removeEventListener((t=this.key,null!==r[t]&&void 0!==r[t]?r[t]:t),this.call)}setTimeout(e){}clearTimeout(e){}}function a(){return o.on[this.key]=this}return o.keys=s(e=>({[e]:e})),o.on=s(e=>({[e]:void 0})),o.last=s(e=>({[e]:void 0})),o});
!function(e){"function"==typeof define&&define.amd?define(["student","Transmit","background/subscription"],e):"object"==typeof exports&&(module.exports=e(require("student"),require("Transmit"),require("background/subscription")))}(function(s,a,e){function n(e){var n,t=e.detail,e=t.key,i=t.value,o=!1,r=[].map.call(i,function(e){return e.charCodeAt(0)}),u=s.pktCh[e];if(void 0===u||u.length!==r.length)o=!0;else for(var c in r)if(u[c]!==r[c]){o=!0;break}for(n in s.pktCh[e]=r,s.Connections)(s.Connections[n].force||o)&&a.senddata(n,i);o&&tcpConnected}new e(e.keys.plugin,n).registerEvent(n)});
!function(e){"function"==typeof define&&define.amd?define(["comms.websocket","logger","background/subscription","modules/initialize","on/lifecycle"],e):"object"==typeof exports&&(module.exports=e(require("student"),require("comms.websocket"),require("logger"),require("background/subscription"),require("modules/initialize"),require("on/lifecycle")))}(function(n,e,i,o,r){let a=e["debug"];function c(){a("ACK Timeout - Closing."),i.on.ackTimeout.clearInterval(),setTimeout(()=>i.on.interval.call(),1900)}new i(i.keys.ackTimeout,c).setInterval(1e4).clearInterval(),new i(i.keys.heartbeat,function(e){a("HBE"),function(e){a("Heartbeat()"),window.clearInterval(c.eventHandle);NSLibrary.Client.Show;{var t;n.instance.POLL(t),r.check()||(1==e.readyState?(t=(new Date).toISOString(),a("Socket Poll:"+t),i.on.ackTimeout.setInterval(25e3),n.instance.POLL(t)):(a("Invalid Socket State("+e.readyState+") -- NOT POLLING"),o()))}}(n.instance.websocket)}).registerEvent()});